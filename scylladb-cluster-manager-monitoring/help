1. Setting up ScyllaDB & ScyllaDB Manager

	docker-compose build --no-cache

	docker-compose up -d

	docker-compose logs -f scylla-node1

	docker-compose logs -f scylla-manager-db

	docker-compose logs -f scylla-manager

	- Wait until the server is started, you should see something like
		scylla-manager_1     | {"L":"INFO","T":"2021-05-07T12:55:42.964Z","M":"Starting HTTP server","address":":5080","_trace_id":"sgZk4CPpSx2KkeXU9CqIKg"}
		scylla-manager_1     | {"L":"INFO","T":"2021-05-07T12:55:42.964Z","M":"Starting HTTPS server","address":":5443","client_ca":"","_trace_id":"sgZk4CPpSx2KkeXU9CqIKg"}
		scylla-manager_1     | {"L":"INFO","T":"2021-05-07T12:55:42.964Z","M":"Starting Prometheus server","address":":5090","_trace_id":"sgZk4CPpSx2KkeXU9CqIKg"}
		scylla-manager_1     | {"L":"INFO","T":"2021-05-07T12:55:42.964Z","M":"Starting debug server","address":"127.0.0.1:5112","_trace_id":"sgZk4CPpSx2KkeXU9CqIKg"}
		scylla-manager_1     | {"L":"INFO","T":"2021-05-07T12:55:42.964Z","M":"Service started","_trace_id":"sgZk4CPpSx2KkeXU9CqIKg"}


	- bash check
		apt install -y telnet
		apt install -y netcat
		apt install -y net-tools

		netstat -nltpu

		nc -vz localhost 9042
		nc -vz 172.28.0.2 9042
		nc -vz scylla-node1 9042

		nc -vz scylla-manager-db 9042


	- Wait until the ScyllaDB cluster is up and running (UN status). It may take several minutes. Check the status with:
		docker-compose exec scylla-node1 nodetool status
		docker-compose exec scylla-node1 bash


		docker-compose exec scylla-manager-db nodetool status
		docker-compose exec scylla-manager-db bash

	- Add the cluster to ScyllaDB Manager:
		docker-compose exec scylla-manager bash
		
		docker-compose exec scylla-manager sctool cluster add --name giangbbCluster --host=scylla-node1 --auth-token=token

	- Verify:
		docker-compose exec scylla-manager sctool status -c giangbbCluster
		docker-compose exec scylla-manager sctool tasks -c giangbbCluster
		docker-compose exec scylla-manager sctool cluster list

	- Create a Bucket for Backups in MinIO
		- to create backups with Scylla Manager using MinIO as a target you need to first create a “bucket” directory to use as the backup target.
			docker-compose exec minio sh -c "mkdir /data/docker"
		=> Afterwards you can schedule backups in Scylla Manager using “s3:docker” as the backup location.



2. Setup ScyllaDB Monitoring
	git clone https://github.com/scylladb/scylla-monitoring.git
	cd scylla-monitoring
	git checkout branch-4.6
	
	bash --version

	NOTE: need to update bash to version 4
	brew install bash    

	- Rename the file prometheus/scylla_servers.example.yml to prometheus/scylla_servers.yml and edit it according to your scylla-node1's IP addresses

	- Rename the file prometheus/scylla_manager_servers.example.yml to prometheus/scylla_manager_servers.yml and modify it according to your scylla-manager's IP addresses

a. using start-all.sh:

	- Generate the dashboards:
		./generate-dashboards.sh -F -v 5.2

	- Start the stack. Replace manager_public below with your docker network.
		./start-all.sh -v 5.2 -M 3.2

b. using docker compose:
	./make-compose.sh -v 5.2 -M 3.2

	docker compose up
	http://localhost:3000









	






